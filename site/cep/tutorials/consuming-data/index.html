<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Access data instantly across the globe in your Apps & APIs for exceptional performance and scale. <br> One interface, multiple data models!"><link href=https://database.coxedge.com/cep/tutorials/consuming-data/ rel=canonical><meta name=author content=Durga><link rel="shortcut icon" href=../../../assets/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.4.0"><title>Consuming Data - COX Edge Docs</title><link rel=stylesheet href=../../../assets/stylesheets/main.7efdba89.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.5447f842.min.css><meta name=theme-color content=#3f51b5><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","None","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#consuming-data class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://database.coxedge.com title="COX Edge Docs" class="md-header-nav__button md-logo" aria-label="COX Edge Docs"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> COX Edge Docs </span> <span class="md-header-nav__topic md-ellipsis"> Consuming Data </span> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/coxedge/database-coxedge/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../quickstart/ class=md-tabs__link> Essentials </a> </li> <li class=md-tabs__item> <a href=../../../keyvalue/quickstart/ class=md-tabs__link> Collections </a> </li> <li class=md-tabs__item> <a href=../../../restql/concepts/ class=md-tabs__link> Query Workers </a> </li> <li class=md-tabs__item> <a href=../../../c8ql/introduction/ class=md-tabs__link> C8 Query Language </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://database.coxedge.com title="COX Edge Docs" class="md-nav__button md-logo" aria-label="COX Edge Docs"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> COX Edge Docs </label> <div class=md-nav__source> <a href=https://github.com/coxedge/database-coxedge/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Essentials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Essentials data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Essentials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../quickstart/ title=Quickstart class=md-nav__link> Quickstart </a> </li> <li class=md-nav__item> <a href=../../../essentials/ title=Essentials class=md-nav__link> Essentials </a> </li> <li class=md-nav__item> <a href=../../../authentication/ title=Authentication class=md-nav__link> Authentication </a> </li> <li class=md-nav__item> <a href=../../../apikeys/ title=Drivers class=md-nav__link> Drivers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Collections <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Collections data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Collections </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-1 type=checkbox id=nav-2-1> <label class=md-nav__link for=nav-2-1> Key Value <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Key Value" data-md-level=2> <label class=md-nav__title for=nav-2-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Key Value </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../keyvalue/quickstart/ title="Quick Start" class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../../keyvalue/tutorials/using-rest-api/ title="Using Rest API" class=md-nav__link> Using Rest API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> Documents <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Documents data-md-level=2> <label class=md-nav__title for=nav-2-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Documents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../documents/quickstart/ title="Quick Start" class=md-nav__link> Quick Start </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-2 type=checkbox id=nav-2-2-2> <label class=md-nav__link for=nav-2-2-2> Tutorials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=3> <label class=md-nav__title for=nav-2-2-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../documents/tutorials/using_rest_api/ title="Using Rest API" class=md-nav__link> Using Rest API </a> </li> <li class=md-nav__item> <a href=../../../documents/tutorials/working-with-documents/ title="Working with Documents" class=md-nav__link> Working with Documents </a> </li> <li class=md-nav__item> <a href=../../../documents/tutorials/using-realtime-updates/ title="Realtime Updates" class=md-nav__link> Realtime Updates </a> </li> <li class=md-nav__item> <a href=../../../documents/tutorials/using-spotcollections/ title="Spot Collections" class=md-nav__link> Spot Collections </a> </li> <li class=md-nav__item> <a href=../../../documents/tutorials/maps_sets_sortedsets/ title="Maps, Sets, SortedSets" class=md-nav__link> Maps, Sets, SortedSets </a> </li> <li class=md-nav__item> <a href=../../../c8ql/c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-3 type=checkbox id=nav-2-2-3> <label class=md-nav__link for=nav-2-2-3> Indexing <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Indexing data-md-level=3> <label class=md-nav__title for=nav-2-2-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Indexing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../documents/indexing/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../documents/indexing/index-basics/ title="Index Basics" class=md-nav__link> Index Basics </a> </li> <li class=md-nav__item> <a href=../../../documents/indexing/working-with-indexes/ title="Working with Indexes" class=md-nav__link> Working with Indexes </a> </li> <li class=md-nav__item> <a href=../../../documents/indexing/index-utilization/ title="Index Utilization" class=md-nav__link> Index Utilization </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-4 type=checkbox id=nav-2-2-4> <label class=md-nav__link for=nav-2-2-4> GeoSpatial <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=GeoSpatial data-md-level=3> <label class=md-nav__title for=nav-2-2-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> GeoSpatial </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../geospatial/concepts/ title=Concepts class=md-nav__link> Concepts </a> </li> <li class=md-nav__item> <a href=../../../geospatial/tutorial/ title=Tutorial class=md-nav__link> Tutorial </a> </li> <li class=md-nav__item> <a href=../../../documents/indexing/working-with-indexes#geo-spatial-indexes title=Indexes class=md-nav__link> Indexes </a> </li> <li class=md-nav__item> <a href=../../../c8ql/c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-5 type=checkbox id=nav-2-2-5> <label class=md-nav__link for=nav-2-2-5> Transactions <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Transactions data-md-level=3> <label class=md-nav__title for=nav-2-2-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Transactions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../c8ql/transactions/overview/ title=Overivew class=md-nav__link> Overivew </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/transaction-invocation/ title="Transaction Invocation" class=md-nav__link> Transaction Invocation </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/passing-parameters/ title="Passing Parameters" class=md-nav__link> Passing Parameters </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/locking-isolation/ title="Locking and Isolation" class=md-nav__link> Locking and Isolation </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/durability/ title=Durability class=md-nav__link> Durability </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/limitations/ title=Limitations class=md-nav__link> Limitations </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-3 type=checkbox id=nav-2-3> <label class=md-nav__link for=nav-2-3> DynamoMode <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=DynamoMode data-md-level=2> <label class=md-nav__title for=nav-2-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> DynamoMode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dynamo/using-aws-cli/ title="Using AWS Console CLI" class=md-nav__link> Using AWS Console CLI </a> </li> <li class=md-nav__item> <a href=../../../dynamo/using-aws-js-browser/ title="AWS Javascript SDK (browser)" class=md-nav__link> AWS Javascript SDK (browser) </a> </li> <li class=md-nav__item> <a href=../../../dynamo/using-aws-js-nodejs/ title="AWS Javascript SDK (nodejs)" class=md-nav__link> AWS Javascript SDK (nodejs) </a> </li> <li class=md-nav__item> <a href=../../../dynamo/using-aws-boto3/ title="AWS Python SDK" class=md-nav__link> AWS Python SDK </a> </li> <li class=md-nav__item> <a href=../../../dynamo/using-mmdynamo-browser/ title="mmdynamo Javascript SDK (browser)" class=md-nav__link> mmdynamo Javascript SDK (browser) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-4 type=checkbox id=nav-2-4> <label class=md-nav__link for=nav-2-4> Graphs <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Graphs data-md-level=2> <label class=md-nav__title for=nav-2-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Graphs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../graphs/quickstart/ title="Quick Start" class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../../graphs/concepts/ title=Concepts class=md-nav__link> Concepts </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-4-3 type=checkbox id=nav-2-4-3> <label class=md-nav__link for=nav-2-4-3> Tutorials <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tutorials data-md-level=3> <label class=md-nav__title for=nav-2-4-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../graphs/tutorials/using_rest_api/ title="Using Rest API" class=md-nav__link> Using Rest API </a> </li> <li class=md-nav__item> <a href=../../../graphs/tutorials/graph-queries/ title="Graph Queries" class=md-nav__link> Graph Queries </a> </li> <li class=md-nav__item> <a href=../../../c8ql/c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Query Workers <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Query Workers" data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Query Workers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../restql/concepts/ title=Concepts class=md-nav__link> Concepts </a> </li> <li class=md-nav__item> <a href=../../../restql/tutorial/ title="RestQL Tutorial" class=md-nav__link> RestQL Tutorial </a> </li> <li class=md-nav__item> <a href=../../../c8ql/c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/ title="C8QL Examples" class=md-nav__link> C8QL Examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> C8 Query Language <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="C8 Query Language" data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> C8 Query Language </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../c8ql/introduction/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../c8ql/c8ql-tutorial/ title="C8QL Tutorial" class=md-nav__link> C8QL Tutorial </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/ title="Additional Examples" class=md-nav__link> Additional Examples </a> </li> <li class=md-nav__item> <a href=../../../c8ql/coming-from-sql/ title="Coming from SQL" class=md-nav__link> Coming from SQL </a> </li> <li class=md-nav__item> <a href=../../../c8ql/fundamentals/ title=Fundamentals class=md-nav__link> Fundamentals </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operators/ title=Operators class=md-nav__link> Operators </a> </li> <li class=md-nav__item> <a href=../../../c8ql/data-queries/ title="Data Queries" class=md-nav__link> Data Queries </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-8 type=checkbox id=nav-4-8> <label class=md-nav__link for=nav-4-8> Examples <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Examples data-md-level=2> <label class=md-nav__title for=nav-4-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../c8ql/examples/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/counting/ title=Counting class=md-nav__link> Counting </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/data-modification-queries/ title="Date Modification Queries" class=md-nav__link> Date Modification Queries </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/diffing-documents/ title="Diffing Documents" class=md-nav__link> Diffing Documents </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/dynamic-attribute-names/ title="Dynamic Attribute Names" class=md-nav__link> Dynamic Attribute Names </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/grouping/ title=Grouping class=md-nav__link> Grouping </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/joins/ title=Joins class=md-nav__link> Joins </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/multiple-path-search/ title="Multiple Path Search" class=md-nav__link> Multiple Path Search </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/projections-and-filters/ title="Projections and Filters" class=md-nav__link> Projections and Filters </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/queries-without-collections/ title="Queries Without Collections" class=md-nav__link> Queries Without Collections </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/remove-vertex/ title="Remove Vertex" class=md-nav__link> Remove Vertex </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/subqueries/ title=Sub-Queries class=md-nav__link> Sub-Queries </a> </li> <li class=md-nav__item> <a href=../../../c8ql/examples/traversals/ title=Traversals class=md-nav__link> Traversals </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-9 type=checkbox id=nav-4-9> <label class=md-nav__link for=nav-4-9> Operations <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Operations data-md-level=2> <label class=md-nav__title for=nav-4-9> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Operations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../c8ql/operations/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/for/ title=FOR class=md-nav__link> FOR </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/return/ title=RETURN class=md-nav__link> RETURN </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/filter/ title=FILTER class=md-nav__link> FILTER </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/search/ title=SEARCH class=md-nav__link> SEARCH </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/sort/ title=SORT class=md-nav__link> SORT </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/limit/ title=LIMIT class=md-nav__link> LIMIT </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/let/ title=LET class=md-nav__link> LET </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/collect/ title=COLLECT class=md-nav__link> COLLECT </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/remove/ title=REMOVE class=md-nav__link> REMOVE </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/update/ title=UPDATE class=md-nav__link> UPDATE </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/replace/ title=REPLACE class=md-nav__link> REPLACE </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/insert/ title=INSERT class=md-nav__link> INSERT </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/upsert/ title=UPSERT class=md-nav__link> UPSERT </a> </li> <li class=md-nav__item> <a href=../../../c8ql/operations/with/ title=WITH class=md-nav__link> WITH </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-10 type=checkbox id=nav-4-10> <label class=md-nav__link for=nav-4-10> Functions <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Functions data-md-level=2> <label class=md-nav__title for=nav-4-10> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../c8ql/functions/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/string/ title=String class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/numeric/ title=Numeric class=md-nav__link> Numeric </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/date/ title=Date class=md-nav__link> Date </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/array/ title=Array class=md-nav__link> Array </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/document/ title=Document class=md-nav__link> Document </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/geo/ title=Geo class=md-nav__link> Geo </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/fulltext/ title=Fulltext class=md-nav__link> Fulltext </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/search/ title=Search class=md-nav__link> Search </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/miscellaneous/ title=Miscellaneous class=md-nav__link> Miscellaneous </a> </li> <li class=md-nav__item> <a href=../../../c8ql/functions/type-cast/ title="Type Check & Cast" class=md-nav__link> Type Check & Cast </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-11 type=checkbox id=nav-4-11> <label class=md-nav__link for=nav-4-11> Graphs <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Graphs data-md-level=2> <label class=md-nav__title for=nav-4-11> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Graphs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../c8ql/graphs/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../c8ql/graphs/shortest-path/ title="Shortest Path" class=md-nav__link> Shortest Path </a> </li> <li class=md-nav__item> <a href=../../../c8ql/graphs/k-shortest-paths/ title="K Shortest Paths" class=md-nav__link> K Shortest Paths </a> </li> <li class=md-nav__item> <a href=../../../c8ql/graphs/traversals/ title=Traversals class=md-nav__link> Traversals </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-12 type=checkbox id=nav-4-12> <label class=md-nav__link for=nav-4-12> Transactions <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Transactions data-md-level=2> <label class=md-nav__title for=nav-4-12> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Transactions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../c8ql/transactions/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/durability/ title=Durability class=md-nav__link> Durability </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/locking-isolation/ title="Locking Isolation" class=md-nav__link> Locking Isolation </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/passing-parameters/ title="Passing Parameters" class=md-nav__link> Passing Parameters </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/transaction-invocation/ title="Transaction Invocation" class=md-nav__link> Transaction Invocation </a> </li> <li class=md-nav__item> <a href=../../../c8ql/transactions/limitations/ title=Limitations class=md-nav__link> Limitations </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../c8ql/array-operators/ title="Array Operators" class=md-nav__link> Array Operators </a> </li> <li class=md-nav__item> <a href=../../../c8ql/common-errors/ title="Common Errors" class=md-nav__link> Common Errors </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#stream-application-for-consuming-data class=md-nav__link> Stream Application for Consuming Data </a> </li> <li class=md-nav__item> <a href=#supported-message-formats class=md-nav__link> Supported message formats </a> <nav class=md-nav aria-label="Supported message formats"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#consume-messages-in-default-format class=md-nav__link> Consume messages in default format </a> </li> <li class=md-nav__item> <a href=#consume-messages-in-custom-format class=md-nav__link> Consume messages in custom format </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/coxedge/database-coxedge/edit/master/docs/cep/tutorials/consuming-data.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=consuming-data>Consuming Data<a class=headerlink href=#consuming-data title="Permanent link">&para;</a></h1> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>Typically the first step in a stream processing flow is to consume the data to be cleaned, enriched, transformed or summarized to produce the required output.</p> <p>For the stream processor to consume events, the following is required.</p> <ul> <li> <p>A <strong>message schema</strong>: To identify the messages to select for stream processing. The schema of the messages is defined via a <em>stream</em>.</p> </li> <li> <p>A <strong>source</strong>: The messages are consumed from different sources including streaming applications, cloud-based applications, databases, and files. The source is defined via a <em>source configuration</em>.</p> </li> </ul> <p>A source configuration consists of the following:</p> <ul> <li> <p><strong><code>@source</code></strong>: This annotation defines the source type via which the messages are consumed, and allows you to configure the source parameters (which change depending on the source type). For the complete list of supported source types, see <a href=../../reference/query-guide/#source>Streams Query Guide - Source</a></p> </li> <li> <p><strong><code>@map</code></strong>: This annotation specifies the format in which messages are consumed, and allows you to configure the mapping parameters (which change based of the mapping type/format selected). For the complete list of supported mapping types, see <a href=../../reference/query-guide/#source-mapper>Streams Query Guide - Source Mapper</a></p> </li> <li> <p><strong><code>@attributes</code></strong>: This annotation specifies a custom mapping based on which events to be selected into the stream processing flow are identified. This is useful when the attributes of the incoming messages you want the stream processor to consume are different to the corresponding attribute name in the stream definition. </p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>Say the stream processor is reading employee records. The employee name might be defined as <code>emp No</code> in the source from which you are extracting the records. However, the corresponding attribute name in the stream definition is <code>employeeNo</code> because that is how you want to refer to the attribute in the stream processor. In this instance, you need a custom mapping to indicate that <code>emp No</code> is the same as <code>employeeNo</code>.</p> </div> </li> </ul> <h2 id=stream-application-for-consuming-data>Stream Application for Consuming Data<a class=headerlink href=#stream-application-for-consuming-data title="Permanent link">&para;</a></h2> <p>Following are the steps to create a stream application:</p> <ol> <li> <p>Open the <code>Stream Apps</code> editor in GUI.</p> </li> <li> <p>Click on <strong>New</strong> to start defining a new stream application.</p> </li> <li> <p>Enter a <strong>Name</strong> for the stream application. For example <code>SalesTotalsApp</code>.</p> </li> <li> <p>Enter a <strong>Description</strong>.</p> </li> <li> <p>Define an input stream to define the schema based on which input events are selected to the streaming integrator flow as follows.</p> <div class=highlight><pre><span></span><code>define stream &lt;Stream_Name&gt;(attribute1_name attribute1_type, attribute2_name attribute2_type, ...)
</code></pre></div> <p>For example,</p> <div class=highlight><pre><span></span><code>define stream ConsumerSalesTotalsStream (transNo int, product string, price int, quantity int, salesValue long)
</code></pre></div> </li> <li> <p>Connect a source to the input stream you added as follows.</p> <div class=highlight><pre><span></span><code>@source(type=&#39;&lt;SOURCE_TYPE&gt;&#39;)
define stream &lt;Stream_Name&gt;(attribute1_name attribute1_type, attribute2_name attribute2_type, ...);
</code></pre></div> <p>For example, you can add a source of the <code>c8streams</code> type to the <code>ConsumerSalesTotalsStream</code> input stream in the example of the previous step.</p> <div class=highlight><pre><span></span><code>@source(type=&#39;c8streams&#39;)
define stream ConsumerSalesTotalsStream (transNo int, product string, price int, quantity int, salesValue long);
</code></pre></div> </li> <li> <p>Configure parameters for the source you added. </p> <p>For example, you can specify the collection name for the <code>c8streams</code> source in the example used.</p> <div class=highlight><pre><span></span><code>@source(type=&#39;c8streams&#39;, stream.list=&#39;SalesTotalsEP&#39;)
define stream ConsumerSalesTotalsStream (transNo int, product string, price int, quantity int, salesValue long);
</code></pre></div> </li> <li> <p>Add an <code>@map</code> annotation to the source configuration as shown below.</p> <div class=highlight><pre><span></span><code>@source(type=&#39;&lt;SOURCE_TYPE&gt;&#39;, &lt;PARAMETER1_NAME&gt;=&#39;&lt;PARAMETER1_VALUE&gt;&#39;, @map(type=&#39;&lt;MAP_TYPE&gt;&#39;))
define stream &lt;Stream_Name&gt;(attribute1_name attribute1_type, attribute2_name attribute2_type, ...);
</code></pre></div> <p>In the example used, you can specify <code>JSON</code> as the map type as follows:</p> <div class=highlight><pre><span></span><code>@source(type=&#39;c8streams&#39;, stream.list=&#39;SalesTotalsEP&#39;, @map(type=&#39;json&#39;))
define stream ConsumerSalesTotalsStream (transNo int, product string, price int, quantity int, salesValue long);
</code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Mapping is explained in detail in the <a href=#consume-messages-in-default-format>Consuming a message in default format</a> and <a href=#consume-messages-in-custom-format>Consuming a message in custom format</a> sections. However, note that you need to add a mapping type to complete a source configuration. If no mapping type i specified, an error is indicated.</p> </div> </li> <li> <p>Add stream query to specify how the output is derived and the name of an output stream to which this output is directed. <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>&lt;</span><span class=n>ATTRIBUTE1_Name</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=n>ATTRIBUTE2_NAME</span><span class=o>&gt;</span><span class=p>,</span> <span class=p>...</span> 
<span class=k>from</span> <span class=o>&lt;</span><span class=n>INPUT_STREAM_NAME</span><span class=o>&gt;</span>
<span class=k>group</span> <span class=k>by</span> <span class=o>&lt;</span><span class=n>ATTRIBUTE_NAME</span><span class=o>&gt;</span>
<span class=k>insert</span> <span class=k>into</span> <span class=o>&lt;</span><span class=n>OUTPUT_STREAM_NAME</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div></p> <p>For example, you can define the query as follows. <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>*</span>
<span class=k>from</span> <span class=n>ConsumerSalesTotalsStream</span>
<span class=k>group</span> <span class=k>by</span> <span class=n>product</span>
<span class=k>insert</span> <span class=k>into</span> <span class=n>PublishSalesTotalsStream</span><span class=p>;</span>
</code></pre></div></p> </li> <li> <p>Complete the stream application by defining an output stream with a connected sink configuration.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>In the example used, you can define the <code>PublishSalesTotals</code> stream that you already specified as the output stream in the query, and connect a <code>c8stream</code> sink to it as follows. Publishing the output is explained in detail in the <a href=../publishing-data/ >Publishing Data guide</a>.</p> </div> <div class=highlight><pre><span></span><code>@sink(type=&#39;c8streams&#39;, stream=&#39;SalesTotals&#39;, replication.type=&#39;local&#39;)
define stream PublishSalesTotalsStream (transNo int, product string, price int, quantity int, salesValue long);
</code></pre></div> </li> <li> <p>Save the Stream Application. The completed application is as follows:</p> <div class=highlight><pre><span></span><code>@App:name(&quot;SalesTotalsApp&quot;)
@App:description(&quot;Description of the plan&quot;)

@source(type=&#39;c8stream&#39;, stream.list=&#39;SalesTotalsEP&#39;, stream.type=&#39;local&#39;, @map(type=&#39;json&#39;))
define stream ConsumerSalesTotalsStream(transNo int, product string, price int, quantity int, salesValue long);

@sink(type=&#39;c8stream&#39;, stream.list=&#39;SalesTotals&#39;)
define stream PublishSalesTotalsStream (transNo int, product string, price int, quantity int, salesValue long);

select *
from ConsumerSalesTotalsStream
group by product
insert into PublishSalesTotalsStream;
</code></pre></div> </li> <li> <p>Publish the stream application to one or more regions via GUI/REST API.</p> </li> </ol> <h2 id=supported-message-formats>Supported message formats<a class=headerlink href=#supported-message-formats title="Permanent link">&para;</a></h2> <h3 id=consume-messages-in-default-format>Consume messages in default format<a class=headerlink href=#consume-messages-in-default-format title="Permanent link">&para;</a></h3> <p>Stream processor consumes a message in the default format when it makes no changes to the names of the attributes of the message schema before it processes the message. To understand how messages are consumed in default format, follow the procedure below.</p> <ol> <li> <p>Create a stream application with a source configuration following the instructions in the above subsection.</p> </li> <li> <p>In the source configuration, make sure that an <code>@map</code> annotation is included with the mapping type as shown below.</p> <div class=highlight><pre><span></span><code>@source(type=&#39;&lt;SOURCE_TYPE&gt;&#39;, &lt;PARAMETER1_NAME&gt;=&#39;&lt;PARAMETER1_VALUE&gt;&#39;, @map(type=&#39;&lt;MAP_TYPE&gt;&#39;))
define stream &lt;Stream_Name&gt;(attribute1_name attribute1_type, attribute2_name attribute2_type, ...);
</code></pre></div> <p>The map type specifies the format in which the messages are received. e.g., In the example used, you can specify <code>JSON</code> as the map type as follows:</p> <div class=highlight><pre><span></span><code>@source(type=&#39;http&#39;, receiver.url=&#39;http://localhost:5005/SalesTotalsEP&#39;, @map(type=&#39;json&#39;))
define stream ConsumerSalesTotalsStream(transNo int, product string, price int, quantity int, salesValue long);
</code></pre></div> </li> <li> <p>Save the stream application. If you save the stream application that was created using the example configurations, the completed stream application is as follows.</p> <div class=highlight><pre><span></span><code>@App:name(&quot;SalesTotalsApp&quot;)
@App:description(&quot;Description of the plan&quot;)

@source(type=&#39;c8streams&#39;, stream.list=&#39;SalesTotalsEP&#39;, @map(type=&#39;json&#39;))
define stream ConsumerSalesTotalsStream (transNo int, product string, price int, quantity int, salesValue long);

@sink(type=&#39;c8streams&#39;, stream=&#39;SalesTotals&#39;, replication.type=&#39;local&#39;)
define stream PublishSalesTotalsStream (product string, totalSale long);

select product, sum(salesValue) as totalSale
from ConsumerSalesTotalsStream#window.time(1 min)
group by product
insert into PublishSalesTotalsStream;
</code></pre></div> </li> <li> <p>To check whether the above stream application works as expected, publish some messages.</p> <p>e.g., In the example used, the source type is c8stream. Therefore, you can publish messages similar to the following:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
    <span class=nt>&quot;transNo&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
    <span class=nt>&quot;product&quot;</span><span class=p>:</span> <span class=s2>&quot;DDT&quot;</span><span class=p>,</span>
    <span class=nt>&quot;price&quot;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
    <span class=nt>&quot;quantity&quot;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
    <span class=nt>&quot;salesValue&quot;</span><span class=p>:</span> <span class=mi>10000</span>
<span class=p>}</span>
</code></pre></div> </li> </ol> <h3 id=consume-messages-in-custom-format>Consume messages in custom format<a class=headerlink href=#consume-messages-in-custom-format title="Permanent link">&para;</a></h3> <p>Stream processor consumes a message in the custom format when it makes changes to the names of the attributes of the message schema before it processes the message. To understand how messages are consumed in custom format, follow the procedure below.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>For this section, you can edit the same stream application that you saved in the <a href=#consume-messages-in-default-format>Consume messages in default format</a> subsection.</p> </div> <ol> <li> <p>Open your stream application with a source configuration.</p> </li> <li> <p>In the <code>@map</code> annotation within the source configuration, add the <code>@attributes</code> annotation with mappings for different attributes. This can be done in two ways as shown below.</p> <ul> <li> <p>Defining attributes as keys and mapping content as values in the following format.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>In the Stream application used as an example in the previous section, assume that when receiving events, the <code>transNo</code> attribute is received as <code>transaction</code> and the <code>salesValue</code> attribute is received as <code>sales</code>. The mapping type is JSON. therefore, you can add the mappings as JSONPath expressions.</p> </div> <table> <thead> <tr> <th><strong>Stream Attribute Name</strong></th> <th><strong>JSON Event Attribute Name</strong></th> <th><strong>JSONPath Expression</strong></th> </tr> </thead> <tbody> <tr> <td><code>transNo</code></td> <td><code>transaction</code></td> <td><code>$.transaction</code></td> </tr> <tr> <td><code>salesValue</code></td> <td><code>sales</code></td> <td><code>$.sales</code></td> </tr> </tbody> </table> <p>The mapping can be defined as follows.</p> <div class=highlight><pre><span></span><code>@source(type=&#39;http&#39;, receiver.url=&#39;http://localhost:5005/SalesTotalsEP&#39;, @map(type=&#39;json&#39;, @attributes(transNo = &#39;$.transaction&#39;, salesValue = &#39;$.sales&#39;)))
define stream ConsumerSalesTotalsStream(transNo int, product string, price int, quantity int, salesValue long);
</code></pre></div> </li> <li> <p>Defining the mapping content of all attributes in the same order as how the attributes are defined in stream definition.</p> <div class=highlight><pre><span></span><code>@source(type=&#39;&lt;SOURCE_TYPE&gt;&#39;, &lt;PARAMETER1_NAME&gt;=&#39;&lt;PARAMETER1_VALUE&gt;&#39;, @map(type=&#39;&lt;MAP_TYPE&gt;&#39;, @attributes( &#39;mapping_1&#39;, &#39;mapping_N&#39;)))
define stream &lt;Stream_Name&gt;(attribute1_name attribute1_type, attributeN_name attributeN_type, ...);
</code></pre></div> <p>e.g., If you consider the same example, mapping can be defined as follows.</p> <div class=highlight><pre><span></span><code>@source(type=&#39;http&#39;, receiver.url=&#39;http://localhost:5005/SalesTotalsEP&#39;, @map(type=&#39;json&#39;, @attributes(transNo = &#39;$.transaction&#39;, product = product, quantity = quantity, salesValue = &#39;$.sales&#39;)))
define stream ConsumerSalesTotalsStream(transNo int, product string, price int, quantity int, salesValue long);
</code></pre></div> </li> </ul> </li> </ol> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2021 COX Corp </div> </div> <div class=md-footer-social> <a href=https://github.com/coxedge target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/CoxComm target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/company/cox-communications/ target=_blank rel=noopener title=www.linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.568ba93b.min.js></script> <script src=../../../assets/javascripts/bundle.2a81e305.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ["tabs", "instant"],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>